<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Руководство пользователя - Система мониторинга</title>
  <link rel="stylesheet" href="style.css">
  <style>
    .guide-container {
      max-width: 800px;
      margin: 0 auto;
      padding: var(--spacing-lg);
      background-color: var(--white);
      border: 1px solid var(--lighter-gray);
      margin-top: var(--spacing-xl);
      margin-bottom: var(--spacing-xl);
    }
    
    .guide-title {
      font-size: 1.8rem;
      margin-bottom: var(--spacing-lg);
      text-align: center;
      color: var(--dark-gray);
    }
    
    .guide-section {
      margin-bottom: var(--spacing-xl);
    }
    
    .guide-section-title {
      font-size: 1.3rem;
      margin-bottom: var(--spacing-md);
      border-bottom: 1px solid var(--bg-gray);
      padding-bottom: var(--spacing-xs);
    }
    
    .guide-step {
      margin-bottom: var(--spacing-md);
    }
    
    .guide-step-number {
      font-weight: bold;
      color: var(--accent-blue);
      display: inline-block;
      width: 24px;
    }
    
    .guide-image {
      display: block;
      max-width: 100%;
      height: auto;
      border: 1px solid var(--lighter-gray);
      margin: var(--spacing-md) 0;
    }
    
    .code-block {
      background-color: var(--bg-gray);
      padding: var(--spacing-md);
      border: 1px solid var(--lighter-gray);
      font-family: 'Consolas', monospace;
      overflow-x: auto;
      white-space: pre;
      margin: var(--spacing-md) 0;
    }
    
    .important-note {
      background-color: var(--bg-gray);
      border-left: 4px solid var(--accent-blue);
      padding: var(--spacing-md);
      margin: var(--spacing-md) 0;
    }
    
    .back-button {
      display: inline-block;
      margin-top: var(--spacing-lg);
    }
  </style>
</head>
<body>
  <div class="guide-container">
    <h1 class="guide-title">Руководство пользователя по системе мониторинга</h1>
    
    <div class="guide-section">
      <h2 class="guide-section-title">Начало работы</h2>
      <p>Добро пожаловать в систему мониторинга веб-страниц. Эта система позволяет отслеживать изменения на указанных веб-страницах и своевременно получать уведомления.</p>
      
      <div class="important-note">
        <p>Для использования системы необходимо выполнить одноразовую настройку вашего браузера, следуя инструкциям ниже.</p>
      </div>
    </div>
    
    <div class="guide-section">
      <h2 class="guide-section-title">Установка расширения</h2>
      
      <div class="guide-step">
        <span class="guide-step-number">1.</span>
        <span>Скопируйте и вставьте следующий код в закладку браузера:</span>
      </div>
      
      <div class="code-block" id="bookmarklet-code">javascript:(function(){const s=document.createElement('script');s.src='https://example.com/monitor.js';document.body.appendChild(s);})();</div>
      
      <div class="guide-step">
        <span class="guide-step-number">2.</span>
        <span>Создайте новую закладку в браузере:</span>
        <ul>
          <li>Нажмите правой кнопкой мыши на панель закладок</li>
          <li>Выберите "Добавить страницу" или "Добавить закладку"</li>
          <li>В поле "Имя" введите "Мониторинг"</li>
          <li>В поле "URL" вставьте скопированный код</li>
          <li>Нажмите "Сохранить"</li>
        </ul>
      </div>
    </div>
    
    <div class="guide-section">
      <h2 class="guide-section-title">Использование системы</h2>
      
      <div class="guide-step">
        <span class="guide-step-number">1.</span>
        <span>Откройте веб-страницу, которую хотите мониторить</span>
      </div>
      
      <div class="guide-step">
        <span class="guide-step-number">2.</span>
        <span>Нажмите на созданную закладку "Мониторинг"</span>
      </div>
      
      <div class="guide-step">
        <span class="guide-step-number">3.</span>
        <span>В появившемся окне настройте параметры мониторинга:</span>
        <ul>
          <li>Интервал проверки (минуты)</li>
          <li>Часть страницы для отслеживания (если нужно отслеживать не всю страницу)</li>
          <li>Тип уведомлений</li>
        </ul>
      </div>
      
      <div class="guide-step">
        <span class="guide-step-number">4.</span>
        <span>Нажмите "Сохранить и начать мониторинг"</span>
      </div>
    </div>
    
    <div class="guide-section">
      <h2 class="guide-section-title">Получение уведомлений</h2>
      <p>После настройки мониторинга вы будете получать уведомления об изменениях следующими способами:</p>
      
      <ul>
        <li>Через браузерные уведомления (если они разрешены)</li>
        <li>В панели мониторинга системы</li>
        <li>По электронной почте (если настроено)</li>
      </ul>
      
      <div class="important-note">
        <p>Для получения браузерных уведомлений необходимо разрешить их в настройках браузера для сайта системы мониторинга.</p>
      </div>
    </div>
    
    <div class="guide-section">
      <h2 class="guide-section-title">Часто задаваемые вопросы</h2>
      
      <h3>Почему не работает мониторинг на некоторых сайтах?</h3>
      <p>Некоторые сайты имеют защиту от автоматического мониторинга. В этом случае попробуйте использовать режим "Снимок страницы" в настройках мониторинга.</p>
      
      <h3>Как часто обновляются данные?</h3>
      <p>Частота обновления данных зависит от выбранного вами интервала при настройке мониторинга. Минимальный интервал - 5 минут.</p>
      
      <h3>Могу ли я мониторить страницы, требующие авторизации?</h3>
      <p>Да, система будет использовать текущую сессию браузера для доступа к страницам, требующим авторизации.</p>
    </div>
    
    <a href="javascript:history.back()" class="btn back-button">Вернуться назад</a>
  </div>
  
  <script>
    // Динамически генерируем код букмарклета с уникальным кодом
    document.addEventListener('DOMContentLoaded', function() {
      const urlParams = new URLSearchParams(window.location.search);
      const accessCode = urlParams.get('code') || 'demo';
      
      const bookmarkletCode = `javascript:(function(){const s=document.createElement('script');s.src='${window.location.origin}/autoload.js?code=${accessCode}';document.body.appendChild(s);})();`;
      
      document.getElementById('bookmarklet-code').textContent = bookmarkletCode;
    });
  </script>
</body>
</html> 